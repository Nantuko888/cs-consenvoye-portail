<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Organigramme - CS Consenvoye</title>

<style>
html, body{
  margin:0;
  padding:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:#000;
  color:white;
}

/* Background fixe */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url("background.png") center top / cover no-repeat;
  z-index:0;
}

.wrap{
  position:relative;
  z-index:1;
  padding:20px;
  max-width:1100px;
  margin:auto;
}

/* TITRE */
h1{
  text-align:center;
  margin-bottom:30px;
  text-shadow:0 0 20px rgba(255,120,0,.6);
}

/* DIRECTION */
.direction{
  text-align:center;
  margin-bottom:40px;
}

.chef{
  background:#FFD700;
  color:#000;
  padding:15px;
  border-radius:14px;
  font-weight:700;
  margin-bottom:20px;
}

.adjoints{
  display:flex;
  justify-content:space-between;
  gap:20px;
}

.adjoint{
  flex:1;
  background:rgba(255,120,0,.85);
  padding:15px;
  border-radius:14px;
  font-weight:600;
}

/* POLES */
.poles{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:20px;
}

.pole{
  background:rgba(0,0,0,.6);
  border:1px solid rgba(255,140,0,.6);
  padding:25px 15px;
  border-radius:16px;
  text-align:center;
  cursor:pointer;
  transition:0.2s;
  font-weight:700;
}

.pole:hover{
  transform:scale(1.04);
  background:rgba(255,100,0,.25);
}
</style>
</head>

<body>
<div class="wrap">

<h1>Organigramme</h1>

<div class="direction">
  <div class="chef">
    Chef de centre<br>
    <span id="chefNom">Nom Chef</span>
  </div>

  <div class="adjoints">
    <div class="adjoint">
      1er Adjoint<br>
      <span id="adj1Nom">Nom Adjoint 1</span>
    </div>
    <div class="adjoint">
      2Ã¨me Adjoint<br>
      <span id="adj2Nom">Nom Adjoint 2</span>
    </div>
  </div>
</div>

<div class="poles" id="polesContainer">
  <!-- Les pÃ´les arrivent ici -->
</div>

</div>

<script>

const API = "https://script.google.com/macros/s/AKfycbzPHCDdW7wkFCVkMOL_2srZmdnjZ1QKmToUFtqIZBPjSUNtOwM-Ac7ua0w9dhCv3oI/exec?view=org"; 
// ðŸ”´ REMPLACE TON_URL_EXEC PAR TON URL /exec

function loadOrg(){

  fetch(API)
  .then(res => res.json())
  .then(data => {

    document.getElementById("chefNom").textContent =
      data.direction?.chef || "Non renseignÃ©";

    document.getElementById("adj1Nom").textContent =
      data.direction?.adj1 || "Non renseignÃ©";

    document.getElementById("adj2Nom").textContent =
      data.direction?.adj2 || "Non renseignÃ©";

    const container = document.getElementById("polesContainer");
    container.innerHTML = "";

    data.poles.forEach(pole=>{
      const div = document.createElement("div");
      div.className="pole";
      div.textContent = pole.nom;
      div.onclick = ()=> alert("PÃ´le : " + pole.nom);
      container.appendChild(div);
    });

  })
  .catch(()=> alert("Erreur chargement organigramme"));
}

loadOrg();

</script>
</body>
</html>
